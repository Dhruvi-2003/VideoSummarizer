<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap Files -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <title>Podcast Summarizer</title>
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Video Summarizer</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-md-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Developers</a>
              </li>
            </ul>
            <form class="d-flex" role="search">
              <input class="form-control me-2" type="search" placeholder="Paste URL" aria-label="Search">
              <button id="btn2" class="btn btn-outline-success" type="submit">Get Summary</button>
            </form>
          </div>
        </div>
      </nav>
      <div class="px-4 py-5 my-5 text-center">
        <h1 class="display-5 fw-bold text-body-emphasis">Video Summarizer</h1>
        <div class="col-lg-6 mx-auto">
          <p class="lead mb-4">
            Welcome to our website, the ultimate destination for podcast lovers. We are thrilled to introduce you to our revolutionary service that converts long video podcasts into concise text summaries. Say goodbye to time-consuming listening sessions and dive straight into the most important points and insights. Explore our website and unlock a world of knowledge with ease. 
            Happy exploring! </p>
          <div class="input-group mb-3">
            <input id="urlInput" type="text" class="form-control" placeholder="Paste URL">
            <div class="input-group-append">
              <button id="btn1" class="btn btn-primary" type="button">Get Summary</button>
            </div>
          </div>
        </div>
      </div>
    
      <div class="container">
        <h5 id="stepHeading" class="text-center">Converting Video to Mp3</h5>
        <div class="progress">
          <div id="progressBar" class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
      <script>
        var progress = 0;
        var currentStep = 1;
        var progressBar = document.getElementById("progressBar");
        var stepHeading = document.getElementById("stepHeading");
        var startButton1 = document.getElementById("btn1");
        var startButton2 = document.getElementById("btn2");
        var urlInput = document.getElementById("urlInput");
        var progressInterval;
        
        function updateProgress() {
          progressBar.style.width = progress + "%";
          progressBar.setAttribute("aria-valuenow", progress);
          progressBar.innerText = progress + "%";
        }
        
        function startProgress() {
            var url = urlInput.value; // Get the entered URL from the input field
            if (!url) {
                alert("Please enter a valid URL.");
                return;
            }
            progressInterval = setInterval(function() {
            if (currentStep ===1 && progress < 20) {
              progress += 5; // Update the progress value here based on your backend data
              updateProgress();
            } else {
              clearInterval(progressInterval);
              currentStep++; // Move to the next step
              if (currentStep === 2 && progress<=90) {
                stepHeading.innerText = "Preparing Transcription";
                progress +=5;
                updateProgress();
                // Start the next progress here or wait for a signal from the backend
              } else if (currentStep === 3 && progress<=100) {
                stepHeading.innerText = "Summarizing Text";
                progress +=5;
                updateProgress();
                // Start the next progress here or wait for a signal from the backend
              }
            }
          }, 5000); // Update progress every 1 second
        }
        
        startButton1.addEventListener("click", startProgress);
        startButton2.addEventListener("click", startProgress);
    </script>
</body>
</html>